# Использование функции горячей перезагрузки

## Введение

Горячная перезагрузка (Hot Reload) - это функция, которая позволяет разработчикам видеть изменения в коде мгновенно без перезапуска сервера. В этом проекте реализована расширенная функциональность горячей перезагрузки.

## Быстрый старт

1. Запустите сервер разработки:
   ```bash
   npm run dev
   ```

2. Откройте браузер по адресу http://localhost:3000

3. Внесите изменения в файлы в директории `src/`

4. Изменения автоматически отобразятся в браузере

## Демонстрация горячей перезагрузки

### Доступ к демонстрации

1. Запустите приложение с помощью `npm run dev`
2. Перейдите на тестовую страницу через TabBar или нажмите на центральную кнопку
3. В TabBar появится новая вкладка "Hot Reload Demo"

### Что демонстрирует пример

1. **Сохранение состояния**: Счетчик сохраняет свое значение при горячей перезагрузке
2. **Мгновенное обновление**: Текст и стили обновляются мгновенно
3. **Редактируемое поле**: Ввод пользователя сохраняется при обновлении кода

## Команды разработки

### Основная команда
```bash
npm run dev
```
Запускает сервер разработки с базовой горячей перезагрузкой.

### Расширенная команда с логированием
```bash
npm run dev:debug
```
Запускает сервер разработки с расширенным логированием и отладочной информацией.

## Поддерживаемые изменения

### Мгновенное обновление (без перезагрузки страницы)
- Изменения в Svelte компонентах (.svelte)
- Изменения в CSS стилях
- Изменения в JavaScript файлах

### Полная перезагрузка страницы
- Изменения в main.js
- Изменения в конфигурационных файлах (vite.config.js)
- Ошибки, препятствующие правильной работе HMR

## Лучшие практики

### При разработке компонентов
1. Используйте локальное состояние вместо глобального, когда это возможно
2. Избегайте побочных эффектов в компонентах верхнего уровня
3. Используйте жизненные циклы компонентов правильно (onMount, onDestroy и т.д.)

### При работе с состоянием
1. Храните важное состояние в хранилищах (stores)
2. Используйте сохранение состояния между перезагрузками
3. Тестируйте восстановление состояния после изменений

## Отладка проблем с горячей перезагрузкой

### Если изменения не отображаются
1. Проверьте консоль разработчика на наличие ошибок
2. Убедитесь, что файлы находятся в директории `src/`
3. Проверьте, что сервер разработки запущен
4. Попробуйте обновить страницу вручную

### Если страница перезагружается полностью
1. Проверьте консоль на наличие ошибок компиляции
2. Убедитесь, что изменения не затрагивают критические файлы
3. Проверьте логи сервера разработки

## Расширение функциональности

### Добавление нового компонента
1. Создайте новый .svelte файл в `src/components/`
2. Импортируйте его в App.svelte
3. Добавьте маршрут для отображения компонента

### Настройка HMR
Конфигурация находится в:
- `vite.config.js` - основная конфигурация Vite
- `plugins/hot-reload-enhancer.js` - дополнительный плагин

## Примеры использования

### Быстрое прототипирование
1. Создайте новый компонент
2. Добавьте его в App.svelte
3. Запустите `npm run dev`
4. Экспериментируйте с кодом в реальном времени

### Отладка UI
1. Используйте инструменты разработчика браузера
2. Вносите изменения в стили и разметку
3. Наблюдайте за мгновенным результатом

## Ограничения

1. Горячая перезагрузка работает только в режиме разработки
2. Некоторые изменения требуют полной перезагрузки
3. Сложные состояния могут не сохраняться при определенных изменениях
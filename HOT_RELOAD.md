# Расширенная функциональность горячей перезагрузки

## Обзор

В этом проекте реализована расширенная функциональность горячей перезагрузки (Hot Reload), которая позволяет разработчикам мгновенно видеть изменения в коде без перезапуска сервера.

## Как это работает

### Базовая горячая перезагрузка

Vite использует Hot Module Replacement (HMR) для замены модулей в реальном времени. При изменении файла:

1. Vite обнаруживает изменение
2. Пересобирает только измененный модуль
3. Отправляет обновление в браузер
4. Браузер заменяет модуль без перезагрузки страницы

### Расширенная функциональность

Наш проект включает дополнительные возможности:

1. **Hot Reload Enhancer Plugin** - отслеживает изменения файлов и логирует их
2. **Расширенное логирование** - подробные сообщения о процессе перезагрузки
3. **Отладочный режим** - дополнительные инструменты для диагностики проблем

## Команды для запуска

### Базовая разработка
```bash
npm run dev
```

### Разработка с расширенным логированием
```bash
npm run dev:debug
```

## Функции отслеживания

Hot Reload Enhancer отслеживает следующие события:

- Изменение файлов (change)
- Добавление файлов (add)
- Удаление файлов (unlink)

## Поддерживаемые типы файлов

Горячая перезагрузка работает с:

- `.svelte` файлы компонентов
- `.js` JavaScript файлы
- `.css` файлы стилей
- Другие ресурсы (изображения, шрифты и т.д.)

## Решение проблем

### Если горячая перезагрузка не работает:

1. Проверьте, что вы запустили правильную команду (`npm run dev`)
2. Убедитесь, что браузер не кэширует страницу (отключите кэш в инструментах разработчика)
3. Проверьте консоль на наличие ошибок
4. Убедитесь, что файлы находятся в правильной директории (`src/`)

### Если страница перезагружается полностью:

1. Некоторые изменения требуют полной перезагрузки (например, изменения в main.js)
2. Ошибки в коде могут привести к полной перезагрузке
3. Изменения в конфигурационных файлах (vite.config.js) требуют перезапуска сервера

## Логирование

При использовании `npm run dev:debug` вы увидите дополнительные сообщения:

- Подключение клиентов
- Изменения файлов
- Ошибки обработки

## Настройка

Конфигурация горячей перезагрузки находится в `vite.config.js`:

```javascript
server: {
  hmr: {
    overlay: true // Показывать ошибки поверх приложения
  },
  host: 'localhost',
  port: 3000
}
```

## Плагины

### Hot Reload Enhancer

Плагин находится в `plugins/hot-reload-enhancer.js` и предоставляет:

- Логирование изменений файлов
- Отслеживание подключений клиентов
- Расширенную отладку процесса HMR

## Рекомендации по использованию

1. Всегда используйте `npm run dev` для разработки
2. Используйте `npm run dev:debug` при проблемах с горячей перезагрузкой
3. Не редактируйте файлы вне директории `src/` во время разработки
4. Проверяйте консоль браузера на наличие ошибок
5. Используйте инструменты разработчика браузера для отладки